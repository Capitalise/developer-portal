"use strict";(self.webpackChunkcapialise_developer_portal=self.webpackChunkcapialise_developer_portal||[]).push([[1406],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=i,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||r;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},85162:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(67294),i=n(86010);const r="tabItem_Ymn6";function o(e){let{children:t,hidden:n,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,i.Z)(r,o),hidden:n},t)}},65488:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(87462),i=n(67294),r=n(86010),o=n(72389),l=n(67392),s=n(7094),p=n(12466);const c="tabList__CuJ",u="tabItem_LNqP";function d(e){var t,n;const{lazy:o,block:d,defaultValue:m,values:h,groupId:g,className:k}=e,b=i.Children.map(e.children,(e=>{if((0,i.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),f=null!=h?h:b.map((e=>{let{props:{value:t,label:n,attributes:a}}=e;return{value:t,label:n,attributes:a}})),y=(0,l.l)(f,((e,t)=>e.value===t.value));if(y.length>0)throw new Error('Docusaurus error: Duplicate values "'+y.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const v=null===m?m:null!=(t=null!=m?m:null==(n=b.find((e=>e.props.default)))?void 0:n.props.value)?t:b[0].props.value;if(null!==v&&!f.some((e=>e.value===v)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+f.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:N,setTabGroupChoices:T}=(0,s.U)(),[w,C]=(0,i.useState)(v),I=[],{blockElementScrollPositionUntilNextRender:O}=(0,p.o5)();if(null!=g){const e=N[g];null!=e&&e!==w&&f.some((t=>t.value===e))&&C(e)}const P=e=>{const t=e.currentTarget,n=I.indexOf(t),a=f[n].value;a!==w&&(O(t),C(a),null!=g&&T(g,String(a)))},q=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{var a;const t=I.indexOf(e.currentTarget)+1;n=null!=(a=I[t])?a:I[0];break}case"ArrowLeft":{var i;const t=I.indexOf(e.currentTarget)-1;n=null!=(i=I[t])?i:I[I.length-1];break}}null==(t=n)||t.focus()};return i.createElement("div",{className:(0,r.Z)("tabs-container",c)},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":d},k)},f.map((e=>{let{value:t,label:n,attributes:o}=e;return i.createElement("li",(0,a.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:e=>I.push(e),onKeyDown:q,onFocus:P,onClick:P},o,{className:(0,r.Z)("tabs__item",u,null==o?void 0:o.className,{"tabs__item--active":w===t})}),null!=n?n:t)}))),o?(0,i.cloneElement)(b.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):i.createElement("div",{className:"margin-top--md"},b.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function m(e){const t=(0,o.Z)();return i.createElement(d,(0,a.Z)({key:String(t)},e))}},50597:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>l,metadata:()=>p,toc:()=>u});var a=n(87462),i=(n(67294),n(3905)),r=n(65488),o=n(85162);const l={displayed_sidebar:"useCasesSideBar",title:"Native credit report",tags:["API"]},s=void 0,p={unversionedId:"native-credit-report",id:"native-credit-report",title:"Native credit report",description:"Help users improve their finanical health with credit report information directly in your website.",source:"@site/use-cases/native-credit-report.mdx",sourceDirName:".",slug:"/native-credit-report",permalink:"/use-cases/native-credit-report",draft:!1,editUrl:"https://github.com/Capitalise/developer-portal/edit/main/use-cases/native-credit-report.mdx",tags:[{label:"API",permalink:"/use-cases/tags/api"}],version:"current",lastUpdatedAt:1740466290,formattedLastUpdatedAt:"Feb 25, 2025",frontMatter:{displayed_sidebar:"useCasesSideBar",title:"Native credit report",tags:["API"]},sidebar:"useCasesSideBar",previous:{title:"Use cases",permalink:"/use-cases/"},next:{title:"Credit profile widget",permalink:"/use-cases/credit-profile-widget"}},c={},u=[{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"Environments",id:"environments",level:2},{value:"Setup your account for Capitalise.com",id:"setup-your-account-for-capitalisecom",level:2},{value:"Sever-side",id:"sever-side",level:2},{value:"Generate <code>API key</code> (one-off)",id:"generate-api-key-one-off",level:3},{value:"Generate <code>platform access token</code>",id:"generate-platform-access-token",level:3},{value:"Create a tenant",id:"create-a-tenant",level:3},{value:"Genenrate <code>tenant access token</code> (optional)",id:"genenrate-tenant-access-token-optional",level:3},{value:"Set up profile",id:"set-up-profile",level:3},{value:"Retrieve credit report data",id:"retrieve-credit-report-data",level:2},{value:"Using <code>platform access token</code>",id:"using-platform-access-token",level:3},{value:"Using <code>tenant access token</code>",id:"using-tenant-access-token",level:3},{value:"Credit report response",id:"credit-report-response",level:3}],d={toc:u};function m(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Help users improve their finanical health with credit report information directly in your website."),(0,i.kt)("h2",{id:"pre-requisites"},"Pre-requisites"),(0,i.kt)("p",null,"To retrieve a credit report, the company must be a limited company and have a valid Companies House number."),(0,i.kt)("p",null,"Therefore it's recommended only show the widget if you have a valid Companies House number."),(0,i.kt)("h2",{id:"environments"},"Environments"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Environment"),(0,i.kt)("th",{parentName:"tr",align:null},"Base URL"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Demo"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://demo.capitalise.com/api"},"https://demo.capitalise.com/api")),(0,i.kt)("td",{parentName:"tr",align:null},"Get started with test credentials and life-like data")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Production"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://capitalise.com/api"},"https://capitalise.com/api")),(0,i.kt)("td",{parentName:"tr",align:null},"Launch your app with live credentials")))),(0,i.kt)("p",null,"For account setup, please contact our API Partner Manager Sabrin Ghomri at ",(0,i.kt)("a",{parentName:"p",href:"mailto:sabrin.ghomri@capitalise.com"},"sabrin.ghomri@capitalise.com"),"."),(0,i.kt)("admonition",{title:"Important",type:"secondary"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Data and credentials (e.g. ",(0,i.kt)("inlineCode",{parentName:"li"},"Logins"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"API Key"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"API Token"),") CANNOT be moved between Production and Demo"),(0,i.kt)("li",{parentName:"ul"},"Always double check if you've got the right credentials configured before production release"))),(0,i.kt)("h2",{id:"setup-your-account-for-capitalisecom"},"Setup your account for Capitalise.com"),(0,i.kt)("p",null,"Once you've signed MOU, your Partner Manager will send the invite so that you can complete the registration. If in doubt, please reach out to your Partner Manager."),(0,i.kt)("h2",{id:"sever-side"},"Sever-side"),(0,i.kt)("p",null,"On the server-side, you will be calling two sets of APIs:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"API"),(0,i.kt)("th",{parentName:"tr",align:null},"Base Path"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/api/platform"},"Platform V1")),(0,i.kt)("td",{parentName:"tr",align:null},"/platform/v1"),(0,i.kt)("td",{parentName:"tr",align:null},"Generating API Key that unique identifies your application")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/api/business"},"Business V1")),(0,i.kt)("td",{parentName:"tr",align:null},"/business/v1"),(0,i.kt)("td",{parentName:"tr",align:null},"The suite of APIs to create tenants, set up profile and get credit profile")))),(0,i.kt)("h3",{id:"generate-api-key-one-off"},"Generate ",(0,i.kt)("inlineCode",{parentName:"h3"},"API key")," (one-off)"),(0,i.kt)("p",null,"Firstly, login to Capitalise.com with your login credentials."),(0,i.kt)(r.Z,{groupId:"widget",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"demo",label:"Demo",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},'curl --location --request POST \'https://demo.capitalise.com/api/platform/v1/auth/login\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n  # highlight-start\n  "email": "YOUR_EMAIL",\n  "password": "YOUR_PASSWORD"\n  # highlight-end\n}\'\n'))),(0,i.kt)(o.Z,{value:"production",label:"Production",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},'curl --location --request POST \'https://capitalise.com/api/platform/v1/auth/login\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n  # highlight-start\n  "email": "YOUR_EMAIL",\n  "password": "YOUR_PASSWORD"\n  # highlight-end\n}\'\n')))),(0,i.kt)("p",null,"Upon Successful 200, you will get the ",(0,i.kt)("inlineCode",{parentName:"p"},"access_token")," in the response."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response"',title:'"Response"'},'{\n    # highlight-start\n    "access_token": "eyJhbGciOiJSUz...",\n    # highlight-end\n    "expires_in": 86400,\n    "scope": "read:current_user update:current_user_metadata delete:current_user_metadata create:current_user_metadata create:current_user_device_credentials delete:current_user_device_credentials update:current_user_identities",\n    "token_type": "Bearer"\n}\n')),(0,i.kt)("p",null,"Use the ",(0,i.kt)("inlineCode",{parentName:"p"},"access_token")," to generate an ",(0,i.kt)("inlineCode",{parentName:"p"},"API key")," for your application."),(0,i.kt)(r.Z,{groupId:"widget",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"demo",label:"Demo",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},'curl --location --request POST \'https://demo.capitalise.com/api/platform/v1/api-key\' \\\n# highlight-start\n--header \'Authorization: Bearer eyJhbG...{{PLATFORM_ACCESS_TOKEN}}...puwv4f2KGadrMwq681u_RQ\' \\\n# highlight-end\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    # highlight-start\n    "name": "Widget testing", # This string needs to be unique\n    # highlight-end\n    "scopes": [\n        "profile:multiples",\n        "profile:read",\n        "profile:write",\n        "questionnaire:read",\n        "questionnaire:write",\n        "funding:read",\n        "funding:write",\n        "insights:read",\n        "scoring:read",\n        "offline_access"\n    ],\n    "expiresAt": "2022-07-26T13:29:11.631Z"\n}\'\n'))),(0,i.kt)(o.Z,{value:"production",label:"Production",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},'curl --location --request POST \'https://capitalise.com/api/platform/v1/api-key\' \\\n# highlight-start\n--header \'Authorization: Bearer eyJhbG...{{PLATFORM_ACCESS_TOKEN}}...puwv4f2KGadrMwq681u_RQ\' \\\n# highlight-end\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    # highlight-start\n    "name": "Widget testing", # This string needs to be unique\n    # highlight-end\n    "scopes": [\n        "profile:multiples",\n        "profile:read",\n        "profile:write",\n        "questionnaire:read",\n        "questionnaire:write",\n        "funding:read",\n        "funding:write",\n        "insights:read",\n        "scoring:read",\n        "offline_access"\n    ],\n    "expiresAt": "2022-07-26T13:29:11.631Z"\n}\'\n')))),(0,i.kt)("p",null,"Upon Successful 200, you will get your ",(0,i.kt)("inlineCode",{parentName:"p"},"API Key")," in the response."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response"',title:'"Response"'},'{\n  "key": "e6b6fefbd0c0762ab707c211923781985651a47ad323b0faec1d5ed58996026e40"\n}\n')),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Please securely store your API key and do not share your with anyone as it's your credential to access Capitalise")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"As long as you've got this API, you would be able to call other endpoints. You don't need to repeat above steps unless you want to generate a new API key")),(0,i.kt)("h3",{id:"generate-platform-access-token"},"Generate ",(0,i.kt)("inlineCode",{parentName:"h3"},"platform access token")),(0,i.kt)("p",null,"With an API key, you can generate an access token via ",(0,i.kt)("inlineCode",{parentName:"p"},"POST /platform/v1/auth/token"),", which will give you access to Capitalise APIs."),(0,i.kt)("p",null,"Make a request to ",(0,i.kt)("inlineCode",{parentName:"p"},"POST /platform/v1/auth/token")," and set the API key as ",(0,i.kt)("inlineCode",{parentName:"p"},"X-API-Key")," in the header."),(0,i.kt)(r.Z,{groupId:"widget",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"demo",label:"Demo",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},"curl --location --request POST 'https://demo.capitalise.com/api/platform/v1/auth/token' \\\n# highlight-start\n--header 'X-API-Key: e6b6fefbd0c0762ab707c211923781b86f51a47ad323b0faec1d5ed58996026e40'\n# highlight-end\n"))),(0,i.kt)(o.Z,{value:"production",label:"Production",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},"curl --location --request POST 'https://capitalise.com/api/platform/v1/auth/token' \\\n# highlight-start\n--header 'X-API-Key: e6b6fefbd0c0762ab707c211923781b86f51a47ad323b0faec1d5ed58996026e40'\n# highlight-end\n")))),(0,i.kt)("p",null,"Upon Successful 201, you will get two Marketplace tokens:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"access_token"),": This is the token that you will use to access the Marketplace API. It will expire in 10 hours. You can use this token to access ",(0,i.kt)("inlineCode",{parentName:"li"},"/tenants"),"; but it will not be able to acccess ",(0,i.kt)("inlineCode",{parentName:"li"},"/profile"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"refresh_token"),": This is the token that allow you refresh your ",(0,i.kt)("inlineCode",{parentName:"li"},"access_token")," without using an ",(0,i.kt)("inlineCode",{parentName:"li"},"API Key")," for extra security. This token will be expired once you've used it to refresh `access_token.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response"',title:'"Response"'},'{\n  "access_token": "eyJhbGciO...V0GiDrY9sVzbZjQMDc1znR77Q",\n  "expires_in": 36000,\n  "refresh_token": "eyJhbGciO...zfoV3Ek3RxZZOSIl_IvULkIA",\n  "scope": "profile:multiples profile:read profile:write questionnaire:read questionnaire:write funding:read funding:write insights:read scoring:read offline_access",\n  "token_type": "Bearer"\n}\n')),(0,i.kt)("h3",{id:"create-a-tenant"},"Create a tenant"),(0,i.kt)("p",null,"Then create a tenant, which will be used manage one business."),(0,i.kt)("p",null,"Call ",(0,i.kt)("inlineCode",{parentName:"p"},"POST /business/v1/tenants")," endpoint and provide the ",(0,i.kt)("inlineCode",{parentName:"p"},"platform access token")," from previous step."),(0,i.kt)("p",null,"You can optionally provide the ",(0,i.kt)("inlineCode",{parentName:"p"},"referenceId")," in the request body which will be used to validate if a referenced tenant already exists."),(0,i.kt)(r.Z,{groupId:"widget",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"demo",label:"Demo",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},"curl --location --request POST 'https://demo.capitalise.com/api/business/v1/tenants' \\\n--header 'Authorization: Bearer eyJhbGciO...V0GiDrY9sVzbZjQMDc1znR77Q' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"referenceId\": \"Unique Tenant ID\" # Optional but recommended - needs to be unique\n}'\n"))),(0,i.kt)(o.Z,{value:"production",label:"Production",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},"curl --location --request POST 'https://capitalise.com/api/business/v1/tenants' \\\n--header 'Authorization: Bearer eyJhbGciO...V0GiDrY9sVzbZjQMDc1znR77Q' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"referenceId\": \"Unique Tenant ID\" # Optional but recommended - needs to be unique\n}'\n")))),(0,i.kt)("p",null,"Upon Successful 201, you will get the tenant ID."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response"',title:'"Response"'},'{\n  {/* highlight-start */}\n  "id": "5ccaa9ba-e3d4-4c1b-865a-26ac02c2717d",\n  {/* highlight-end */}\n  "referenceId": "Unique Tenant ID",\n  "createdDateTime": "2022-04-25T00:16:28.000Z",\n  "updatedDateTime": "2022-04-25T00:16:28.000Z"\n}\n')),(0,i.kt)("h3",{id:"genenrate-tenant-access-token-optional"},"Genenrate ",(0,i.kt)("inlineCode",{parentName:"h3"},"tenant access token")," (optional)"),(0,i.kt)("p",null,"In the case where you want to restrict access to one specifc tenant, you can create an access token with only access to the tenant."),(0,i.kt)("p",null,"It's the same as generating ",(0,i.kt)("inlineCode",{parentName:"p"},"platform access token"),", but the difference is that you will pass the tenant you want to restrict to as ",(0,i.kt)("inlineCode",{parentName:"p"},"Capitalise-tenant-id")," in the header."),(0,i.kt)(r.Z,{groupId:"widget",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"demo",label:"Demo",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},"curl --location --request POST 'https://demo.capitalise.com/api/platform/v1/auth/token' \\\n--header 'X-API-Key: e6b6fefbd0c0762ab707c211923781b86f51a47ad323b0faec1d5ed58996026e40'\n# highlight-start\n--header 'Capitalise-tenant-id: 5ccaa9ba-e3d4-4c1b-865a-26ac02c2717d' \\\n# highlight-end\n"))),(0,i.kt)(o.Z,{value:"production",label:"Production",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},"curl --location --request POST 'https://capitalise.com/api/platform/v1/auth/token' \\\n--header 'X-API-Key: e6b6fefbd0c0762ab707c211923781b86f51a47ad323b0faec1d5ed58996026e40'\n# highlight-start\n--header 'Capitalise-tenant-id: 5ccaa9ba-e3d4-4c1b-865a-26ac02c2717d' \\\n# highlight-end\n")))),(0,i.kt)("p",null,"Upon Successful 201, you will get the tenant ",(0,i.kt)("inlineCode",{parentName:"p"},"access_token"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response"',title:'"Response"'},'{\n  "access_token": "eyJhbGciOi...tRtpiO1aayuWslZ3_ssOQ5rxqGOYZQooBDICrJGVHcF2gg",\n  "expires_in": 36000,\n  "scope": "profile:read profile:write sign_up",\n  "token_type": "Bearer"\n}\n')),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"When should I use ",(0,i.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"platform access token")," and ",(0,i.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"tenant access token"),"?"),(0,i.kt)("p",{parentName:"admonition"},"You should use ",(0,i.kt)("inlineCode",{parentName:"p"},"platofrm access token")," when:"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"All integrations with Capitalise are machine to machine integrations"),(0,i.kt)("li",{parentName:"ul"},"You don't need restricted access at your end")),(0,i.kt)("p",{parentName:"admonition"},"You should use ",(0,i.kt)("inlineCode",{parentName:"p"},"tenant access token")," when:"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Your application architecturally tenant-based therefore access needs to be restricted to specific tenant"),(0,i.kt)("li",{parentName:"ul"},"You are using ",(0,i.kt)("a",{parentName:"li",href:"/use-cases/credit-profile-widget"},"credit profile widget")))),(0,i.kt)("h3",{id:"set-up-profile"},"Set up profile"),(0,i.kt)("p",null,"Now you can set up the profile for the tenant - you would need a valid Companies House number."),(0,i.kt)(r.Z,{groupId:"widget",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"demo",label:"Demo",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},"curl --location --request POST 'https://demo.capitalise.com/api/business/v1/profile' \\\n      # highlight-start\n--header 'Authorization: Bearer eyJhbGciOi...tRtpiO1aayuWslZ3_ssOQ5rxqGOYZQooBDICrJGVHcF2gg' \\\n      # highlight-end\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"companyInformation\": {\n      # highlight-start\n        \"registrationNumber\": \"11391321\"\n      # highlight-end\n    }\n}'\n"))),(0,i.kt)(o.Z,{value:"production",label:"Production",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},"curl --location --request POST 'https://capitalise.com/api/business/v1/profile' \\\n      # highlight-start\n--header 'Authorization: Bearer eyJhbGciOi...tRtpiO1aayuWslZ3_ssOQ5rxqGOYZQooBDICrJGVHcF2gg' \\\n      # highlight-end\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"companyInformation\": {\n      # highlight-start\n        \"registrationNumber\": \"11391321\"\n      # highlight-end\n    }\n}'\n")))),(0,i.kt)("p",null,"If you get a 201 Successful response, it means you've set up the profile correctly for the tenant."),(0,i.kt)("h2",{id:"retrieve-credit-report-data"},"Retrieve credit report data"),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Currently, credit report data is provided in ",(0,i.kt)("inlineCode",{parentName:"p"},"/business/v1/profile")," endpoint. In the near future, we will move the credit report specific data to ",(0,i.kt)("inlineCode",{parentName:"p"},"/business/v1/credit-report"),". This page will be updated accordingly.")),(0,i.kt)("p",null,"There are two ways you can retrieve the credit report data, depends on the access token you use."),(0,i.kt)("h3",{id:"using-platform-access-token"},"Using ",(0,i.kt)("inlineCode",{parentName:"h3"},"platform access token")),(0,i.kt)("p",null,"If you use ",(0,i.kt)("inlineCode",{parentName:"p"},"platform access token"),", you must provide ",(0,i.kt)("inlineCode",{parentName:"p"},"Capitalise-tenant-id")," in the header so we know which tenant ID you want to retrieve the credit report for."),(0,i.kt)(r.Z,{groupId:"widget",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"demo",label:"Demo",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},"curl --location --request GET 'https://demo.capitalise.com/api/business/v1/profile' \\\n# highlight-start\n--header 'Authorization: Bearer eyJhbGciO...V0GiDrY9sVzbZjQMDc1znR77Q' \\\n--header 'Capitalise-tenant-id: 5ccaa9ba-e3d4-4c1b-865a-26ac02c2717d' \\\n# highlight-end\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"companyInformation\": {\n      # highlight-start\n        \"registrationNumber\": \"11391321\"\n      # highlight-end\n    }\n}'\n"))),(0,i.kt)(o.Z,{value:"production",label:"Production",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},"curl --location --request GET 'https://capitalise.com/api/business/v1/profile' \\\n# highlight-start\n--header 'Authorization: Bearer eyJhbGciO...V0GiDrY9sVzbZjQMDc1znR77Q' \\\n--header 'Capitalise-tenant-id: 5ccaa9ba-e3d4-4c1b-865a-26ac02c2717d' \\\n# highlight-end\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"companyInformation\": {\n      # highlight-start\n        \"registrationNumber\": \"11391321\"\n      # highlight-end\n    }\n}'\n")))),(0,i.kt)("h3",{id:"using-tenant-access-token"},"Using ",(0,i.kt)("inlineCode",{parentName:"h3"},"tenant access token")),(0,i.kt)("p",null,"If you use ",(0,i.kt)("inlineCode",{parentName:"p"},"tenant access token"),", it is highly recommmended to provide ",(0,i.kt)("inlineCode",{parentName:"p"},"Capitalise-tenant-id")," in the header. Our endpoint will validate if the ",(0,i.kt)("inlineCode",{parentName:"p"},"Capitalise-tenant-id")," matches the ",(0,i.kt)("inlineCode",{parentName:"p"},"tenant access token")," so you have an extra validation to ensure data are managed correctly."),(0,i.kt)(r.Z,{groupId:"widget",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"demo",label:"Demo",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},"curl --location --request GET 'https://demo.capitalise.com/api/business/v1/profile' \\\n# highlight-start\n--header 'Authorization: Bearer eyJhbGciO...V0GiDrY9sVzbZjQMDc1znR77Q' \\\n--header 'Capitalise-tenant-id: 5ccaa9ba-e3d4-4c1b-865a-26ac02c2717d' \\\n# highlight-end\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"companyInformation\": {\n      # highlight-start\n        \"registrationNumber\": \"11391321\"\n      # highlight-end\n    }\n}'\n"))),(0,i.kt)(o.Z,{value:"production",label:"Production",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Request"',title:'"Request"'},"curl --location --request GET 'https://capitalise.com/api/business/v1/profile' \\\n# highlight-start\n--header 'Authorization: Bearer eyJhbGciO...V0GiDrY9sVzbZjQMDc1znR77Q' \\\n--header 'Capitalise-tenant-id: 5ccaa9ba-e3d4-4c1b-865a-26ac02c2717d' \\\n# highlight-end\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"companyInformation\": {\n      # highlight-start\n        \"registrationNumber\": \"11391321\"\n      # highlight-end\n    }\n}'\n")))),(0,i.kt)("h3",{id:"credit-report-response"},"Credit report response"),(0,i.kt)("p",null,"Upon 200 reponse, you will receive the credit report data in the response body. Refer to ",(0,i.kt)("a",{parentName:"p",href:"/api/business#tag/Profile/operation/get-profile"},"documentation")," for more details."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Example response"',title:'"Example','response"':!0},'{\n  "data": {\n    "companyInformation": {\n      "name": "string",\n      "type": "LIMITED_COMPANY",\n      "sector": "AGRICULTURE",\n      "registrationNumber": "string",\n      "score": {\n        "grade": "A",\n        "changedAt": "2019-08-24T14:15:22Z",\n        "lastAssessedAt": "2019-08-24T14:15:22Z",\n        "industryAverageGrade": "A",\n        "previous": {\n          "grade": "A"\n        }\n      },\n      "creditLimit": {\n        "value": 0,\n        "code": "GBP"\n      },\n      "legalNotices": {\n        "company": {\n          "last12MonthsCount": 0,\n          "last12MonthsValue": {\n            "code": "string",\n            "value": 0\n          }\n        },\n        "directors": {\n          "last12MonthsCount": 0,\n          "last12MonthsValue": {\n            "code": "string",\n            "value": 0\n          }\n        }\n      }\n    },\n    "id": "string",\n    "createdAt": "string",\n    "updatedAt": "string"\n  },\n  "links": "string",\n  "meta": "string"\n}\n')))}m.isMDXComponent=!0}}]);